import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.HashMap;
import java.util.Map;




public class App {
    
    public static void main(String[] args) throws FileNotFoundException, IOException {
        
        
      
    Map <String, String> textFitxerLlista = new HashMap<String, String>();
    
    
    //LECTURA DEL FITXER
        File archivo;
        FileReader fr = null;
        BufferedReader br;
        String textoFichero;
        String[] paisos;
        StringTokenizer siguiente;
        int i;
        
        try {
            
//          archivo = new File("C:\\Users\\formacio\\Desktop\\Gerard\\Sprint1\\S01.03_Collections\\N1Exercici3\\countries.txt");   
            archivo = new File("C:\\Users\\gerri\\OneDrive\\Escritorio\\countries.txt");   
            fr = new FileReader(archivo); 
            br = new BufferedReader(fr); // Creem un BfReader per poder llegir líneas completas 

            
            
            while ((textoFichero = br.readLine()) != null) {
                
                siguiente = new StringTokenizer(textoFichero, " ");
                paisos = new String[siguiente.countTokens()];                

                i = 0;
                
                    while (siguiente.hasMoreTokens()) {

                        paisos[i] = siguiente.nextToken();
                        textFitxerLlista.put(paisos[0], paisos[1]);
                        i++;
                    }
                
            }
            
           
            
               
        } catch (FileNotFoundException e) {  //Obrir arxius i llegir-los pot donar errors no controlats, els hem de controlar amb try catch
           
            System.out.println("No existeix el fitxer");
            
            
        }catch (IOException e2) {
           
            System.out.println("Error de entrada / sortida");
           
        }
        finally{    //Introduim un finally que s'executará si o si, per que volem tancar el arxiu després d'utilitzar-lo
            
            try {
                
                if (null != fr) {
                    
                    fr.close();
                }
                
            } catch (Exception e2) {
                
                e2.printStackTrace();
            }
        } 
        
        
        
       recorrerLlista(textFitxerLlista);
        
        
    }   
    
    
    
    
    
    static void recorrerLlista(Map<String, String> textFitxerLlista){
        
         
            System.out.println("-----------PAISOS---------");
            
            for (String pais : textFitxerLlista.keySet()) {
                
                System.out.println(pais);
            }
            
            
            System.out.println("-----------CAPITALS---------");
            
            for (String capital : textFitxerLlista.values()) {
                
                System.out.println(capital);
            }
                
            
        
    }
    
    
    
    

}
    

